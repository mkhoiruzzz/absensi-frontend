{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import Webcam from\"react-webcam\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const DashboardUser=_ref=>{let{currentUser,absensiData,onAddAbsensi}=_ref;const[keterangan,setKeterangan]=useState('');const[foto,setFoto]=useState(null);const[showCamera,setShowCamera]=useState(false);const[message,setMessage]=useState('');const[jenisAbsensi,setJenisAbsensi]=useState('masuk');const[loading,setLoading]=useState(false);const[localAbsensiData,setLocalAbsensiData]=useState([]);const[location,setLocation]=useState(null);const[locationError,setLocationError]=useState('');const[gettingLocation,setGettingLocation]=useState(false);const webcamRef=useRef(null);const today=new Date().toISOString().split('T')[0];const todayFormatted=new Date().toLocaleDateString('id-ID',{weekday:'long',year:'numeric',month:'long',day:'numeric'});useEffect(()=>{setLocalAbsensiData(absensiData);},[absensiData]);console.log(\"üìä ABSENSI DATA:\",absensiData);console.log(\"üìä LOCAL ABSENSI DATA:\",localAbsensiData);console.log(\"üë§ CURRENT USER ID:\",currentUser===null||currentUser===void 0?void 0:currentUser.id);console.log(\"üìÖ TODAY:\",today);const hasAbsensiMasukToday=localAbsensiData.some(abs=>{const isMatch=abs.user_id===(currentUser===null||currentUser===void 0?void 0:currentUser.id)&&abs.tanggal===today&&abs.jenis_absensi==='masuk';console.log(\"üîç Check masuk - User:\",abs.user_id,\"Tanggal:\",abs.tanggal,\"Jenis:\",abs.jenis_absensi,\"Match:\",isMatch);return isMatch;});const hasAbsensiPulangToday=localAbsensiData.some(abs=>{const isMatch=abs.user_id===(currentUser===null||currentUser===void 0?void 0:currentUser.id)&&abs.tanggal===today&&abs.jenis_absensi==='pulang';console.log(\"üîç Check pulang - User:\",abs.user_id,\"Tanggal:\",abs.tanggal,\"Jenis:\",abs.jenis_absensi,\"Match:\",isMatch);return isMatch;});const todayAbsensiMasuk=localAbsensiData.find(abs=>abs.user_id===(currentUser===null||currentUser===void 0?void 0:currentUser.id)&&abs.tanggal===today&&abs.jenis_absensi==='masuk');const todayAbsensiPulang=localAbsensiData.find(abs=>abs.user_id===(currentUser===null||currentUser===void 0?void 0:currentUser.id)&&abs.tanggal===today&&abs.jenis_absensi==='pulang');console.log(\"‚úÖ HAS MASUK:\",hasAbsensiMasukToday,\"DATA:\",todayAbsensiMasuk);console.log(\"‚úÖ HAS PULANG:\",hasAbsensiPulangToday,\"DATA:\",todayAbsensiPulang);// üìç Fungsi untuk mendapatkan lokasi\nconst getLocation=()=>{setGettingLocation(true);setLocationError('');if(!navigator.geolocation){setLocationError('Geolocation tidak didukung oleh browser Anda');setGettingLocation(false);return;}navigator.geolocation.getCurrentPosition(position=>{const{latitude,longitude}=position.coords;setLocation({latitude,longitude});setGettingLocation(false);console.log(\"üìç Lokasi berhasil didapat:\",latitude,longitude);},error=>{let errorMessage='';switch(error.code){case error.PERMISSION_DENIED:errorMessage='Izin lokasi ditolak. Mohon aktifkan izin lokasi di browser Anda.';break;case error.POSITION_UNAVAILABLE:errorMessage='Informasi lokasi tidak tersedia.';break;case error.TIMEOUT:errorMessage='Request lokasi timeout.';break;default:errorMessage='Terjadi kesalahan saat mengambil lokasi.';}setLocationError(errorMessage);setGettingLocation(false);console.error(\"‚ùå Error lokasi:\",error);},{enableHighAccuracy:true,timeout:10000,maximumAge:0});};// üì∏ Buka kamera dan ambil lokasi\nconst openCamera=()=>{setShowCamera(true);getLocation();};// üì∏ Ambil foto dari kamera\nconst capturePhoto=()=>{const imageSrc=webcamRef.current.getScreenshot();setFoto(imageSrc);setShowCamera(false);};const handleAbsensi=async status=>{if(loading)return;// Validasi lokasi\nif(!location){alert(\"‚ö†Ô∏è Lokasi belum didapatkan. Mohon tunggu atau coba buka kamera lagi.\");return;}setLoading(true);try{console.log(\"üì§ Mengirim absensi:\",{user_id:currentUser.id,status,jenisAbsensi,hasFoto:!!foto,location});const absensiPayload={user_id:currentUser.id,status,keterangan:keterangan||null,foto:foto||null,jenis_absensi:jenisAbsensi,latitude:location.latitude,longitude:location.longitude};console.log(\"üì§ Data yang dikirim:\",absensiPayload);const response=await fetch(\"http://localhost:5001/absensi\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(absensiPayload)});const data=await response.json();console.log(\"üì• Response dari server:\",data);if(response.ok){alert(\"‚úÖ \"+data.message);// Reset form setelah berhasil\nsetKeterangan('');setFoto(null);setLocation(null);// Tambahkan data baru ke local state untuk immediate update\nconst newAbsensi={id:data.id||Date.now(),user_id:currentUser.id,status,keterangan:keterangan||null,foto:foto||null,tanggal:today,jenis_absensi:jenisAbsensi,latitude:location.latitude,longitude:location.longitude,created_at:new Date().toISOString()};setLocalAbsensiData(prev=>[newAbsensi,...prev]);// Refresh data dari parent setelah 1 detik\nsetTimeout(()=>{if(onAddAbsensi){onAddAbsensi(newAbsensi);}},1000);}else{alert(\"‚ùå Gagal absen: \"+data.error);}}catch(error){console.error(\"‚ùå Error:\",error);alert(\"‚ùå Terjadi kesalahan saat mengirim absensi: \"+error.message);}finally{setLoading(false);}};const getRecentAbsensi=()=>{const userAbsensi=localAbsensiData.filter(abs=>abs.user_id===(currentUser===null||currentUser===void 0?void 0:currentUser.id));console.log(\"üìã User absensi:\",userAbsensi);return userAbsensi.sort((a,b)=>new Date(b.tanggal)-new Date(a.tanggal)).slice(0,7);};// Fungsi untuk menentukan apakah tombol absensi harus disabled\nconst isAbsensiDisabled=()=>{if(loading)return true;if(!location)return true;// Disable jika lokasi belum didapat\nif(jenisAbsensi==='pulang'&&!hasAbsensiMasukToday)return true;return false;};return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-header\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"\\uD83D\\uDC4B Selamat Datang, \",currentUser===null||currentUser===void 0?void 0:currentUser.name,\"!\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"NIS: \",currentUser===null||currentUser===void 0?void 0:currentUser.nis,\" | Kelas: \",currentUser===null||currentUser===void 0?void 0:currentUser.kelas]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD83D\\uDCC5 \",todayFormatted]})]}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"alert \".concat(message.includes('‚ùå')?'alert-error':'alert-success'),children:message}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u270F\\uFE0F Absensi Hari Ini\"}),!hasAbsensiMasukToday||!hasAbsensiPulangToday?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Jenis Absensi:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"absensi-type-buttons\",style:{display:'flex',gap:'10px',marginTop:'10px'},children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>setJenisAbsensi('masuk'),className:\"btn \".concat(jenisAbsensi==='masuk'?'btn-primary':'btn-outline'),style:{flex:1,padding:'10px',border:jenisAbsensi==='masuk'?'2px solid #007bff':'1px solid #ddd',backgroundColor:jenisAbsensi==='masuk'?'#007bff':'white',color:jenisAbsensi==='masuk'?'white':'#333',borderRadius:'5px',cursor:loading||hasAbsensiMasukToday?'not-allowed':'pointer',opacity:loading||hasAbsensiMasukToday?0.6:1},disabled:loading||hasAbsensiMasukToday,children:[\"\\uD83C\\uDFE0 Masuk \",hasAbsensiMasukToday&&'‚úì']}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>setJenisAbsensi('pulang'),className:\"btn \".concat(jenisAbsensi==='pulang'?'btn-primary':'btn-outline'),style:{flex:1,padding:'10px',border:jenisAbsensi==='pulang'?'2px solid #007bff':'1px solid #ddd',backgroundColor:jenisAbsensi==='pulang'?'#007bff':'white',color:jenisAbsensi==='pulang'?'white':'#333',borderRadius:'5px',cursor:loading||!hasAbsensiMasukToday||hasAbsensiPulangToday?'not-allowed':'pointer',opacity:loading||!hasAbsensiMasukToday||hasAbsensiPulangToday?0.6:1},disabled:loading||!hasAbsensiMasukToday||hasAbsensiPulangToday,children:[\"\\uD83C\\uDFE0 Pulang \",hasAbsensiPulangToday&&'‚úì']})]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#666',marginTop:'5px'},children:[jenisAbsensi==='pulang'&&!hasAbsensiMasukToday&&/*#__PURE__*/_jsx(\"span\",{style:{color:'#dc3545'},children:\"\\u26A0\\uFE0F Anda harus absen masuk terlebih dahulu sebelum absen pulang\"}),jenisAbsensi==='pulang'&&hasAbsensiPulangToday&&/*#__PURE__*/_jsx(\"span\",{style:{color:'#28a745'},children:\"\\u2705 Anda sudah absen pulang hari ini\"})]})]}),location&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'10px',padding:'10px',backgroundColor:'#d4edda',border:'1px solid #c3e6cb',borderRadius:'5px',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDCCD Lokasi Terdeteksi:\"}),/*#__PURE__*/_jsx(\"br\",{}),\"Lat: \",location.latitude.toFixed(6),\", Long: \",location.longitude.toFixed(6)]}),locationError&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'10px',padding:'10px',backgroundColor:'#f8d7da',border:'1px solid #f5c6cb',borderRadius:'5px',fontSize:'14px',color:'#721c24'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u26A0\\uFE0F Error Lokasi:\"}),/*#__PURE__*/_jsx(\"br\",{}),locationError]}),gettingLocation&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'10px',padding:'10px',backgroundColor:'#d1ecf1',border:'1px solid #bee5eb',borderRadius:'5px',fontSize:'14px'},children:\"\\uD83D\\uDCCD Mengambil lokasi...\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[!foto&&!showCamera&&/*#__PURE__*/_jsx(\"button\",{onClick:openCamera,style:{marginTop:'10px',background:'blue',color:'white',padding:'8px 15px',borderRadius:'5px',border:'none',cursor:'pointer'},disabled:loading,children:\"\\uD83D\\uDCF7 Buka Kamera & Ambil Lokasi\"}),showCamera&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'10px'},children:[/*#__PURE__*/_jsx(Webcam,{audio:false,ref:webcamRef,screenshotFormat:\"image/jpeg\",width:250,videoConstraints:{facingMode:\"user\"}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:capturePhoto,style:{marginTop:'10px',background:'green',color:'white',padding:'8px 15px',borderRadius:'5px',border:'none',cursor:'pointer'},disabled:loading,children:\"\\uD83D\\uDCF8 Ambil Foto\"})]}),foto&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'10px'},children:[/*#__PURE__*/_jsx(\"img\",{src:foto,alt:\"Preview\",width:120,height:120,style:{objectFit:'cover',borderRadius:'8px'}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setFoto(null);setLocation(null);},style:{marginTop:'10px',background:'gray',color:'white',padding:'6px 12px',borderRadius:'5px',border:'none',cursor:'pointer'},disabled:loading,children:\"\\uD83D\\uDD04 Ulangi Foto & Lokasi\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"absensi-buttons\",style:{display:'flex',gap:'10px',marginTop:'20px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAbsensi('hadir'),className:\"btn btn-success\",disabled:isAbsensiDisabled(),style:{flex:1,padding:'12px',borderRadius:'5px',border:'none',cursor:isAbsensiDisabled()?'not-allowed':'pointer',opacity:isAbsensiDisabled()?0.6:1,backgroundColor:'#28a745',color:'white'},children:loading?'‚è≥ Mengirim...':'‚úÖ HADIR'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAbsensi('izin'),className:\"btn btn-warning\",disabled:isAbsensiDisabled(),style:{flex:1,padding:'12px',borderRadius:'5px',border:'none',cursor:isAbsensiDisabled()?'not-allowed':'pointer',opacity:isAbsensiDisabled()?0.6:1,backgroundColor:'#ffc107',color:'#212529'},children:loading?'‚è≥ Mengirim...':'üìù IZIN'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAbsensi('sakit'),className:\"btn btn-danger\",disabled:isAbsensiDisabled(),style:{flex:1,padding:'12px',borderRadius:'5px',border:'none',cursor:isAbsensiDisabled()?'not-allowed':'pointer',opacity:isAbsensiDisabled()?0.6:1,backgroundColor:'#dc3545',color:'white'},children:loading?'‚è≥ Mengirim...':'ü§í SAKIT'})]})]}):/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'20px'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u2705 Absensi Hari Ini Selesai\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Anda sudah melakukan absensi masuk dan pulang hari ini.\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCCB Riwayat Absensi (7 Hari Terakhir)\"}),getRecentAbsensi().length>0?/*#__PURE__*/_jsxs(\"table\",{className:\"table\",style:{width:'100%',borderCollapse:'collapse'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:{backgroundColor:'#f8f9fa'},children:[/*#__PURE__*/_jsx(\"th\",{style:{padding:'10px',border:'1px solid #ddd',textAlign:'left'},children:\"Tanggal\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'10px',border:'1px solid #ddd',textAlign:'left'},children:\"Jenis\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'10px',border:'1px solid #ddd',textAlign:'left'},children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'10px',border:'1px solid #ddd',textAlign:'left'},children:\"Foto\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:getRecentAbsensi().map((abs,index)=>{var _abs$jenis_absensi,_abs$status;return/*#__PURE__*/_jsxs(\"tr\",{style:{borderBottom:'1px solid #ddd'},children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:'10px',border:'1px solid #ddd'},children:new Date(abs.tanggal).toLocaleDateString('id-ID')}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'10px',border:'1px solid #ddd'},children:/*#__PURE__*/_jsx(\"span\",{style:{padding:'4px 8px',borderRadius:'4px',fontSize:'12px',backgroundColor:abs.jenis_absensi==='masuk'?'#007bff':'#6c757d',color:'white'},children:((_abs$jenis_absensi=abs.jenis_absensi)===null||_abs$jenis_absensi===void 0?void 0:_abs$jenis_absensi.toUpperCase())||'MASUK'})}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'10px',border:'1px solid #ddd'},children:/*#__PURE__*/_jsx(\"span\",{style:{padding:'4px 8px',borderRadius:'4px',fontSize:'12px',backgroundColor:abs.status==='hadir'?'#28a745':abs.status==='izin'?'#ffc107':'#dc3545',color:abs.status==='izin'?'#212529':'white'},children:((_abs$status=abs.status)===null||_abs$status===void 0?void 0:_abs$status.toUpperCase())||'HADIR'})}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'10px',border:'1px solid #ddd'},children:abs.foto?/*#__PURE__*/_jsx(\"img\",{src:abs.foto,alt:\"Absensi\",width:50,height:50,style:{objectFit:'cover',borderRadius:'4px'}}):'-'})]},abs.id||index);})})]}):/*#__PURE__*/_jsx(\"p\",{style:{textAlign:'center',padding:'20px',color:'#666'},children:\"Tidak ada riwayat absensi\"})]})]})]});};export default DashboardUser;","map":{"version":3,"names":["React","useState","useRef","useEffect","Webcam","jsxs","_jsxs","jsx","_jsx","DashboardUser","_ref","currentUser","absensiData","onAddAbsensi","keterangan","setKeterangan","foto","setFoto","showCamera","setShowCamera","message","setMessage","jenisAbsensi","setJenisAbsensi","loading","setLoading","localAbsensiData","setLocalAbsensiData","location","setLocation","locationError","setLocationError","gettingLocation","setGettingLocation","webcamRef","today","Date","toISOString","split","todayFormatted","toLocaleDateString","weekday","year","month","day","console","log","id","hasAbsensiMasukToday","some","abs","isMatch","user_id","tanggal","jenis_absensi","hasAbsensiPulangToday","todayAbsensiMasuk","find","todayAbsensiPulang","getLocation","navigator","geolocation","getCurrentPosition","position","latitude","longitude","coords","error","errorMessage","code","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","enableHighAccuracy","timeout","maximumAge","openCamera","capturePhoto","imageSrc","current","getScreenshot","handleAbsensi","status","alert","hasFoto","absensiPayload","response","fetch","method","headers","body","JSON","stringify","data","json","ok","newAbsensi","now","created_at","prev","setTimeout","getRecentAbsensi","userAbsensi","filter","sort","a","b","slice","isAbsensiDisabled","className","children","name","nis","kelas","concat","includes","style","display","gap","marginTop","type","onClick","flex","padding","border","backgroundColor","color","borderRadius","cursor","opacity","disabled","fontSize","toFixed","background","audio","ref","screenshotFormat","width","videoConstraints","facingMode","src","alt","height","objectFit","textAlign","length","borderCollapse","map","index","_abs$jenis_absensi","_abs$status","borderBottom","toUpperCase"],"sources":["C:/laragon1/www/sistem-absensi/src/pages/DashboardUser.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport Webcam from \"react-webcam\";\r\n\r\nconst DashboardUser = ({ currentUser, absensiData, onAddAbsensi }) => {\r\n  const [keterangan, setKeterangan] = useState('');\r\n  const [foto, setFoto] = useState(null);\r\n  const [showCamera, setShowCamera] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n  const [jenisAbsensi, setJenisAbsensi] = useState('masuk');\r\n  const [loading, setLoading] = useState(false);\r\n  const [localAbsensiData, setLocalAbsensiData] = useState([]);\r\n  const [location, setLocation] = useState(null);\r\n  const [locationError, setLocationError] = useState('');\r\n  const [gettingLocation, setGettingLocation] = useState(false);\r\n  const webcamRef = useRef(null);\r\n\r\n  const today = new Date().toISOString().split('T')[0];\r\n  const todayFormatted = new Date().toLocaleDateString('id-ID', {\r\n    weekday: 'long',\r\n    year: 'numeric',\r\n    month: 'long',\r\n    day: 'numeric'\r\n  });\r\n\r\n  useEffect(() => {\r\n    setLocalAbsensiData(absensiData);\r\n  }, [absensiData]);\r\n\r\n  console.log(\"üìä ABSENSI DATA:\", absensiData);\r\n  console.log(\"üìä LOCAL ABSENSI DATA:\", localAbsensiData);\r\n  console.log(\"üë§ CURRENT USER ID:\", currentUser?.id);\r\n  console.log(\"üìÖ TODAY:\", today);\r\n\r\n  const hasAbsensiMasukToday = localAbsensiData.some(abs => {\r\n    const isMatch = abs.user_id === currentUser?.id && \r\n                   abs.tanggal === today && \r\n                   abs.jenis_absensi === 'masuk';\r\n    console.log(\"üîç Check masuk - User:\", abs.user_id, \"Tanggal:\", abs.tanggal, \"Jenis:\", abs.jenis_absensi, \"Match:\", isMatch);\r\n    return isMatch;\r\n  });\r\n\r\n  const hasAbsensiPulangToday = localAbsensiData.some(abs => {\r\n    const isMatch = abs.user_id === currentUser?.id && \r\n                   abs.tanggal === today && \r\n                   abs.jenis_absensi === 'pulang';\r\n    console.log(\"üîç Check pulang - User:\", abs.user_id, \"Tanggal:\", abs.tanggal, \"Jenis:\", abs.jenis_absensi, \"Match:\", isMatch);\r\n    return isMatch;\r\n  });\r\n\r\n  const todayAbsensiMasuk = localAbsensiData.find(\r\n    abs => abs.user_id === currentUser?.id && abs.tanggal === today && abs.jenis_absensi === 'masuk'\r\n  );\r\n\r\n  const todayAbsensiPulang = localAbsensiData.find(\r\n    abs => abs.user_id === currentUser?.id && abs.tanggal === today && abs.jenis_absensi === 'pulang'\r\n  );\r\n\r\n  console.log(\"‚úÖ HAS MASUK:\", hasAbsensiMasukToday, \"DATA:\", todayAbsensiMasuk);\r\n  console.log(\"‚úÖ HAS PULANG:\", hasAbsensiPulangToday, \"DATA:\", todayAbsensiPulang);\r\n\r\n  // üìç Fungsi untuk mendapatkan lokasi\r\n  const getLocation = () => {\r\n    setGettingLocation(true);\r\n    setLocationError('');\r\n\r\n    if (!navigator.geolocation) {\r\n      setLocationError('Geolocation tidak didukung oleh browser Anda');\r\n      setGettingLocation(false);\r\n      return;\r\n    }\r\n\r\n    navigator.geolocation.getCurrentPosition(\r\n      (position) => {\r\n        const { latitude, longitude } = position.coords;\r\n        setLocation({ latitude, longitude });\r\n        setGettingLocation(false);\r\n        console.log(\"üìç Lokasi berhasil didapat:\", latitude, longitude);\r\n      },\r\n      (error) => {\r\n        let errorMessage = '';\r\n        switch(error.code) {\r\n          case error.PERMISSION_DENIED:\r\n            errorMessage = 'Izin lokasi ditolak. Mohon aktifkan izin lokasi di browser Anda.';\r\n            break;\r\n          case error.POSITION_UNAVAILABLE:\r\n            errorMessage = 'Informasi lokasi tidak tersedia.';\r\n            break;\r\n          case error.TIMEOUT:\r\n            errorMessage = 'Request lokasi timeout.';\r\n            break;\r\n          default:\r\n            errorMessage = 'Terjadi kesalahan saat mengambil lokasi.';\r\n        }\r\n        setLocationError(errorMessage);\r\n        setGettingLocation(false);\r\n        console.error(\"‚ùå Error lokasi:\", error);\r\n      },\r\n      {\r\n        enableHighAccuracy: true,\r\n        timeout: 10000,\r\n        maximumAge: 0\r\n      }\r\n    );\r\n  };\r\n\r\n  // üì∏ Buka kamera dan ambil lokasi\r\n  const openCamera = () => {\r\n    setShowCamera(true);\r\n    getLocation();\r\n  };\r\n\r\n  // üì∏ Ambil foto dari kamera\r\n  const capturePhoto = () => {\r\n    const imageSrc = webcamRef.current.getScreenshot();\r\n    setFoto(imageSrc);\r\n    setShowCamera(false);\r\n  };\r\n\r\n  const handleAbsensi = async (status) => {\r\n    if (loading) return;\r\n    \r\n    // Validasi lokasi\r\n    if (!location) {\r\n      alert(\"‚ö†Ô∏è Lokasi belum didapatkan. Mohon tunggu atau coba buka kamera lagi.\");\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    \r\n    try {\r\n      console.log(\"üì§ Mengirim absensi:\", { \r\n        user_id: currentUser.id, \r\n        status, \r\n        jenisAbsensi,\r\n        hasFoto: !!foto,\r\n        location \r\n      });\r\n\r\n      const absensiPayload = {\r\n        user_id: currentUser.id,\r\n        status,\r\n        keterangan: keterangan || null,\r\n        foto: foto || null,\r\n        jenis_absensi: jenisAbsensi,\r\n        latitude: location.latitude,\r\n        longitude: location.longitude\r\n      };\r\n\r\n      console.log(\"üì§ Data yang dikirim:\", absensiPayload);\r\n\r\n      const response = await fetch(\"http://localhost:5001/absensi\", {\r\n        method: \"POST\",\r\n        headers: { \r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(absensiPayload),\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      console.log(\"üì• Response dari server:\", data);\r\n\r\n      if (response.ok) {\r\n        alert(\"‚úÖ \" + data.message);\r\n        // Reset form setelah berhasil\r\n        setKeterangan('');\r\n        setFoto(null);\r\n        setLocation(null);\r\n        \r\n        // Tambahkan data baru ke local state untuk immediate update\r\n        const newAbsensi = {\r\n          id: data.id || Date.now(),\r\n          user_id: currentUser.id,\r\n          status,\r\n          keterangan: keterangan || null,\r\n          foto: foto || null,\r\n          tanggal: today,\r\n          jenis_absensi: jenisAbsensi,\r\n          latitude: location.latitude,\r\n          longitude: location.longitude,\r\n          created_at: new Date().toISOString()\r\n        };\r\n        \r\n        setLocalAbsensiData(prev => [newAbsensi, ...prev]);\r\n        \r\n        // Refresh data dari parent setelah 1 detik\r\n        setTimeout(() => {\r\n          if (onAddAbsensi) {\r\n            onAddAbsensi(newAbsensi);\r\n          }\r\n        }, 1000);\r\n        \r\n      } else {\r\n        alert(\"‚ùå Gagal absen: \" + data.error);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"‚ùå Error:\", error);\r\n      alert(\"‚ùå Terjadi kesalahan saat mengirim absensi: \" + error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getRecentAbsensi = () => {\r\n    const userAbsensi = localAbsensiData.filter(abs => abs.user_id === currentUser?.id);\r\n    console.log(\"üìã User absensi:\", userAbsensi);\r\n    \r\n    return userAbsensi\r\n      .sort((a, b) => new Date(b.tanggal) - new Date(a.tanggal))\r\n      .slice(0, 7);\r\n  };\r\n\r\n  // Fungsi untuk menentukan apakah tombol absensi harus disabled\r\n  const isAbsensiDisabled = () => {\r\n    if (loading) return true;\r\n    if (!location) return true; // Disable jika lokasi belum didapat\r\n    if (jenisAbsensi === 'pulang' && !hasAbsensiMasukToday) return true;\r\n    return false;\r\n  };\r\n\r\n  return (\r\n    <div className=\"dashboard\">\r\n      <div className=\"dashboard-header\">\r\n        <h1>üëã Selamat Datang, {currentUser?.name}!</h1>\r\n        <p>NIS: {currentUser?.nis} | Kelas: {currentUser?.kelas}</p>\r\n        <p>üìÖ {todayFormatted}</p>\r\n      </div>\r\n\r\n      {message && (\r\n        <div className={`alert ${message.includes('‚ùå') ? 'alert-error' : 'alert-success'}`}>\r\n          {message}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"dashboard-content\">\r\n        {/* Form Absensi */}\r\n        <div className=\"card\">\r\n          <h3>‚úèÔ∏è Absensi Hari Ini</h3>\r\n          \r\n          {/* Tampilkan form jika belum absen untuk jenis yang dipilih */}\r\n          {!hasAbsensiMasukToday || !hasAbsensiPulangToday ? (\r\n            <div>\r\n              {/* Kolom Masuk dan Pulang */}\r\n              <div className=\"form-group\">\r\n                <label>Jenis Absensi:</label>\r\n                <div className=\"absensi-type-buttons\" style={{ display: 'flex', gap: '10px', marginTop: '10px' }}>\r\n                  <button \r\n                    type=\"button\"\r\n                    onClick={() => setJenisAbsensi('masuk')}\r\n                    className={`btn ${jenisAbsensi === 'masuk' ? 'btn-primary' : 'btn-outline'}`}\r\n                    style={{ \r\n                      flex: 1, \r\n                      padding: '10px',\r\n                      border: jenisAbsensi === 'masuk' ? '2px solid #007bff' : '1px solid #ddd',\r\n                      backgroundColor: jenisAbsensi === 'masuk' ? '#007bff' : 'white',\r\n                      color: jenisAbsensi === 'masuk' ? 'white' : '#333',\r\n                      borderRadius: '5px',\r\n                      cursor: (loading || hasAbsensiMasukToday) ? 'not-allowed' : 'pointer',\r\n                      opacity: (loading || hasAbsensiMasukToday) ? 0.6 : 1\r\n                    }}\r\n                    disabled={loading || hasAbsensiMasukToday}\r\n                  >\r\n                    üè† Masuk {hasAbsensiMasukToday && '‚úì'}\r\n                  </button>\r\n                  <button \r\n                    type=\"button\"\r\n                    onClick={() => setJenisAbsensi('pulang')}\r\n                    className={`btn ${jenisAbsensi === 'pulang' ? 'btn-primary' : 'btn-outline'}`}\r\n                    style={{ \r\n                      flex: 1, \r\n                      padding: '10px',\r\n                      border: jenisAbsensi === 'pulang' ? '2px solid #007bff' : '1px solid #ddd',\r\n                      backgroundColor: jenisAbsensi === 'pulang' ? '#007bff' : 'white',\r\n                      color: jenisAbsensi === 'pulang' ? 'white' : '#333',\r\n                      borderRadius: '5px',\r\n                      cursor: (loading || !hasAbsensiMasukToday || hasAbsensiPulangToday) ? 'not-allowed' : 'pointer',\r\n                      opacity: (loading || !hasAbsensiMasukToday || hasAbsensiPulangToday) ? 0.6 : 1\r\n                    }}\r\n                    disabled={loading || !hasAbsensiMasukToday || hasAbsensiPulangToday}\r\n                  >\r\n                    üè† Pulang {hasAbsensiPulangToday && '‚úì'}\r\n                  </button>\r\n                </div>\r\n                <div style={{ fontSize: '12px', color: '#666', marginTop: '5px' }}>\r\n                  {jenisAbsensi === 'pulang' && !hasAbsensiMasukToday && (\r\n                    <span style={{ color: '#dc3545' }}>\r\n                      ‚ö†Ô∏è Anda harus absen masuk terlebih dahulu sebelum absen pulang\r\n                    </span>\r\n                  )}\r\n                  {jenisAbsensi === 'pulang' && hasAbsensiPulangToday && (\r\n                    <span style={{ color: '#28a745' }}>\r\n                      ‚úÖ Anda sudah absen pulang hari ini\r\n                    </span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Info Lokasi */}\r\n              {location && (\r\n                <div style={{ \r\n                  marginTop: '10px', \r\n                  padding: '10px', \r\n                  backgroundColor: '#d4edda', \r\n                  border: '1px solid #c3e6cb',\r\n                  borderRadius: '5px',\r\n                  fontSize: '14px'\r\n                }}>\r\n                  <strong>üìç Lokasi Terdeteksi:</strong>\r\n                  <br />\r\n                  Lat: {location.latitude.toFixed(6)}, Long: {location.longitude.toFixed(6)}\r\n                </div>\r\n              )}\r\n\r\n              {locationError && (\r\n                <div style={{ \r\n                  marginTop: '10px', \r\n                  padding: '10px', \r\n                  backgroundColor: '#f8d7da', \r\n                  border: '1px solid #f5c6cb',\r\n                  borderRadius: '5px',\r\n                  fontSize: '14px',\r\n                  color: '#721c24'\r\n                }}>\r\n                  <strong>‚ö†Ô∏è Error Lokasi:</strong>\r\n                  <br />\r\n                  {locationError}\r\n                </div>\r\n              )}\r\n\r\n              {gettingLocation && (\r\n                <div style={{ \r\n                  marginTop: '10px', \r\n                  padding: '10px', \r\n                  backgroundColor: '#d1ecf1', \r\n                  border: '1px solid #bee5eb',\r\n                  borderRadius: '5px',\r\n                  fontSize: '14px'\r\n                }}>\r\n                  üìç Mengambil lokasi...\r\n                </div>\r\n              )}\r\n\r\n              {/* Kamera */}\r\n              <div className=\"form-group\">\r\n                {!foto && !showCamera && (\r\n                  <button \r\n                    onClick={openCamera} \r\n                    style={{ marginTop: '10px', background: 'blue', color: 'white', padding: '8px 15px', borderRadius: '5px', border: 'none', cursor: 'pointer' }}\r\n                    disabled={loading}\r\n                  >\r\n                    üì∑ Buka Kamera & Ambil Lokasi\r\n                  </button>\r\n                )}\r\n\r\n                {showCamera && (\r\n                  <div style={{ marginTop: '10px' }}>\r\n                    <Webcam\r\n                      audio={false}\r\n                      ref={webcamRef}\r\n                      screenshotFormat=\"image/jpeg\"\r\n                      width={250}\r\n                      videoConstraints={{ facingMode: \"user\" }}\r\n                    />\r\n                    <br />\r\n                    <button \r\n                      onClick={capturePhoto} \r\n                      style={{ marginTop: '10px', background: 'green', color: 'white', padding: '8px 15px', borderRadius: '5px', border: 'none', cursor: 'pointer' }}\r\n                      disabled={loading}\r\n                    >\r\n                      üì∏ Ambil Foto\r\n                    </button>\r\n                  </div>\r\n                )}\r\n\r\n                {foto && (\r\n                  <div style={{ marginTop: '10px' }}>\r\n                    <img src={foto} alt=\"Preview\" width={120} height={120} style={{ objectFit: 'cover', borderRadius: '8px' }} />\r\n                    <br />\r\n                    <button \r\n                      onClick={() => {\r\n                        setFoto(null);\r\n                        setLocation(null);\r\n                      }} \r\n                      style={{ marginTop: '10px', background: 'gray', color: 'white', padding: '6px 12px', borderRadius: '5px', border: 'none', cursor: 'pointer' }}\r\n                      disabled={loading}\r\n                    >\r\n                      üîÑ Ulangi Foto & Lokasi\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Tombol Absensi */}\r\n              <div className=\"absensi-buttons\" style={{ display: 'flex', gap: '10px', marginTop: '20px' }}>\r\n                <button \r\n                  onClick={() => handleAbsensi('hadir')} \r\n                  className=\"btn btn-success\"\r\n                  disabled={isAbsensiDisabled()}\r\n                  style={{ \r\n                    flex: 1, \r\n                    padding: '12px', \r\n                    borderRadius: '5px', \r\n                    border: 'none', \r\n                    cursor: isAbsensiDisabled() ? 'not-allowed' : 'pointer',\r\n                    opacity: isAbsensiDisabled() ? 0.6 : 1,\r\n                    backgroundColor: '#28a745',\r\n                    color: 'white'\r\n                  }}\r\n                >\r\n                  {loading ? '‚è≥ Mengirim...' : '‚úÖ HADIR'}\r\n                </button>\r\n                <button \r\n                  onClick={() => handleAbsensi('izin')} \r\n                  className=\"btn btn-warning\"\r\n                  disabled={isAbsensiDisabled()}\r\n                  style={{ \r\n                    flex: 1, \r\n                    padding: '12px', \r\n                    borderRadius: '5px', \r\n                    border: 'none', \r\n                    cursor: isAbsensiDisabled() ? 'not-allowed' : 'pointer',\r\n                    opacity: isAbsensiDisabled() ? 0.6 : 1,\r\n                    backgroundColor: '#ffc107',\r\n                    color: '#212529'\r\n                  }}\r\n                >\r\n                  {loading ? '‚è≥ Mengirim...' : 'üìù IZIN'}\r\n                </button>\r\n                <button \r\n                  onClick={() => handleAbsensi('sakit')} \r\n                  className=\"btn btn-danger\"\r\n                  disabled={isAbsensiDisabled()}\r\n                  style={{ \r\n                    flex: 1, \r\n                    padding: '12px', \r\n                    borderRadius: '5px', \r\n                    border: 'none', \r\n                    cursor: isAbsensiDisabled() ? 'not-allowed' : 'pointer',\r\n                    opacity: isAbsensiDisabled() ? 0.6 : 1,\r\n                    backgroundColor: '#dc3545',\r\n                    color: 'white'\r\n                  }}\r\n                >\r\n                  {loading ? '‚è≥ Mengirim...' : 'ü§í SAKIT'}\r\n                </button>\r\n              </div>             \r\n            </div>\r\n          ) : (\r\n            <div style={{ textAlign: 'center', padding: '20px' }}>\r\n              <h2>‚úÖ Absensi Hari Ini Selesai</h2>\r\n              <p>Anda sudah melakukan absensi masuk dan pulang hari ini.</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Riwayat Absensi */}\r\n        <div className=\"card\">\r\n          <h3>üìã Riwayat Absensi (7 Hari Terakhir)</h3>\r\n          {getRecentAbsensi().length > 0 ? (\r\n            <table className=\"table\" style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n              <thead>\r\n                <tr style={{ backgroundColor: '#f8f9fa' }}>\r\n                  <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'left' }}>Tanggal</th>\r\n                  <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'left' }}>Jenis</th>\r\n                  <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'left' }}>Status</th>\r\n                  <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'left' }}>Foto</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {getRecentAbsensi().map((abs, index) => (\r\n                  <tr key={abs.id || index} style={{ borderBottom: '1px solid #ddd' }}>\r\n                    <td style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n                      {new Date(abs.tanggal).toLocaleDateString('id-ID')}\r\n                    </td>\r\n                    <td style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n                      <span style={{ \r\n                        padding: '4px 8px', \r\n                        borderRadius: '4px', \r\n                        fontSize: '12px',\r\n                        backgroundColor: abs.jenis_absensi === 'masuk' ? '#007bff' : '#6c757d',\r\n                        color: 'white'\r\n                      }}>\r\n                        {abs.jenis_absensi?.toUpperCase() || 'MASUK'}\r\n                      </span>\r\n                    </td>\r\n                    <td style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n                      <span style={{ \r\n                        padding: '4px 8px', \r\n                        borderRadius: '4px', \r\n                        fontSize: '12px',\r\n                        backgroundColor: \r\n                          abs.status === 'hadir' ? '#28a745' : \r\n                          abs.status === 'izin' ? '#ffc107' : '#dc3545',\r\n                        color: abs.status === 'izin' ? '#212529' : 'white'\r\n                      }}>\r\n                        {abs.status?.toUpperCase() || 'HADIR'}\r\n                      </span>\r\n                    </td>\r\n                    <td style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n                      {abs.foto ? (\r\n                        <img src={abs.foto} alt=\"Absensi\" width={50} height={50} style={{ objectFit: 'cover', borderRadius: '4px' }} />\r\n                      ) : (\r\n                        '-'\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          ) : (\r\n            <p style={{ textAlign: 'center', padding: '20px', color: '#666' }}>\r\n              Tidak ada riwayat absensi\r\n            </p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashboardUser;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}